@page "/Runner/Details/{LegOption}"

@using ChaseRacer.Models;
@using Microsoft.AspNetCore.Components.Web;
@using ChaseRacer.Data;
@using Microsoft.AspNetCore.Blazor;
@inject ILegData legData

<h3>Calculate Runner Times</h3>
<h4>Leg @SelectedLeg.LegNumber</h4>
<div class="card">
    <div class="card-body">
        <div class="row">
            <div>@SelectedLeg.LegDistance miles</div>
        </div>
        <div class="row">
            <div class="col-4">Leg: </div>
            <div class="col-8">
                <div id="legs">
                    @foreach (var item in legData.GetLegs())
                    {
                        <div><button class="btn btn-primary" @onclick="(e=> SetLeg(item.LegId))">Leg @item.LegNumber - @item.LegDistance miles</button></div>
                    }
                </div>
            </div>
        </div>
    </div>
    <div class="card-footer">

    </div>
</div>


@code {
    int LegOption;
    Leg SelectedLeg { get; set; } = new Leg();

    void SetLeg(int id)
    {
        //var id = Int32.Parse(e.ToString());
        SelectedLeg = legData.GetLeg(id);
    }
}
